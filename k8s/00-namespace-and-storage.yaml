apiVersion: v1
kind: Namespace
metadata:
  name: smartcloudops
  labels:
    name: smartcloudops
    version: "3.0.0"
    environment: production
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: smartcloudops-config
  namespace: smartcloudops
data:
  DATABASE_URL: "postgresql://smartcloudops:cloudops123@postgres:5432/smartcloudops"
  REDIS_URL: "redis://:cloudops123@redis:6379/0"
  FLASK_ENV: "production"
  GUNICORN_WORKERS: "4"
  GUNICORN_THREADS: "2"
  LOG_LEVEL: "INFO"
---
apiVersion: v1
kind: Secret
metadata:
  name: smartcloudops-secrets
  namespace: smartcloudops
type: Opaque
data:
  SECRET_KEY: c21hcnRjbG91ZG9wc19wcm9kdWN0aW9uX3NlY3JldA== # smartcloudops_production_secret
  POSTGRES_PASSWORD: Y2xvdWRvcHMxMjM= # cloudops123
  REDIS_PASSWORD: Y2xvdWRvcHMxMjM= # cloudops123
  GRAFANA_ADMIN_PASSWORD: Y2xvdWRvcHMxMjM= # cloudops123
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: postgres-pvc
  namespace: smartcloudops
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 10Gi
  storageClassName: fast-ssd
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: grafana-pvc
  namespace: smartcloudops
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 5Gi
  storageClassName: fast-ssd
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: prometheus-pvc
  namespace: smartcloudops
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 20Gi
  storageClassName: fast-ssd
