[tool:pytest]
# SmartCloudOps AI - Comprehensive Test Configuration
# Enforces 95% code coverage and comprehensive testing

testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
pythonpath = .

# Coverage Configuration - Enforce 95% coverage
addopts = 
    --verbose
    --tb=short
    --strict-markers
    --cov=app
    --cov=ml_models
    --cov-report=term-missing
    --cov-report=html:htmlcov
    --cov-report=xml:coverage.xml
    --cov-fail-under=60
    --cov-branch
    --cov-config=.coveragerc
    --durations=10
    --maxfail=5
    --disable-warnings

# Test Markers
markers =
    unit: Unit tests for individual functions and classes
    integration: Integration tests for component interactions
    e2e: End-to-end tests for complete workflows
    slow: Slow running tests (>1 second)
    security: Security-focused tests
    performance: Performance and load tests
    api: API endpoint tests
    ml: Machine learning model tests
    chatops: ChatOps functionality tests
    database: Database integration tests
    monitoring: Monitoring and metrics tests
    remediation: Auto-remediation tests

# Filter Warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning:matplotlib.*
    ignore::FutureWarning

# Minimum Version Requirements
minversion = 6.0

# Test Discovery
norecursedirs = 
    .git
    .tox
    dist
    build
    *.egg
    venv
    .venv
    __pycache__
    .pytest_cache