# Production Environment Overrides
# Use this file to override template defaults for production deployment
# Source this file after loading the main env.template

#============================================================================
# PRODUCTION FLASK CONFIGURATION
#============================================================================
FLASK_ENV=production
FLASK_DEBUG=false

#============================================================================
# PRODUCTION SECURITY CONFIGURATION
#============================================================================
# REQUIRED: Generate secure keys before deployment
# python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=${SECRET_KEY}
JWT_SECRET_KEY=${JWT_SECRET_KEY}

# Enable all security headers in production
SECURITY_HEADERS_ENABLED=true
SECURE_COOKIES=true
SESSION_COOKIE_SECURE=true
ENABLE_CSRF_PROTECTION=true

#============================================================================
# PRODUCTION DATABASE CONFIGURATION
#============================================================================
# Use PostgreSQL in production (AWS RDS recommended)
DATABASE_URL=postgresql+psycopg://${DB_USERNAME}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}
DB_HOST=${DB_HOST}
DB_PORT=5432
DB_NAME=smartcloudops
DB_USERNAME=${DB_USERNAME}
DB_PASSWORD=${DB_PASSWORD}

#============================================================================
# PRODUCTION REDIS CONFIGURATION  
#============================================================================
# Use AWS ElastiCache in production
REDIS_HOST=${REDIS_HOST}
REDIS_PASSWORD=${REDIS_PASSWORD}

#============================================================================
# PRODUCTION AI/ML CONFIGURATION
#============================================================================
# Use AWS Secrets Manager for API keys
OPENAI_API_KEY=${OPENAI_API_KEY}
GEMINI_API_KEY=${GEMINI_API_KEY}

#============================================================================
# PRODUCTION AWS CONFIGURATION
#============================================================================
AWS_REGION=${AWS_REGION}
# Use IAM roles instead of access keys when possible
AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}

#============================================================================
# PRODUCTION REMEDIATION CONFIGURATION
#============================================================================
# More conservative in production
REQUIRE_APPROVAL=false
MAX_ACTIONS_PER_HOUR=10
COOLDOWN_MINUTES=5

#============================================================================
# PRODUCTION LOGGING CONFIGURATION
#============================================================================
LOG_LEVEL=INFO
LOG_DIR=/var/log/smartcloudops
ENABLE_JSON_LOGGING=true

#============================================================================
# PRODUCTION PERFORMANCE CONFIGURATION
#============================================================================
# Higher limits for production
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
PROMETHEUS_RETENTION_DAYS=15

#============================================================================
# PRODUCTION CORS CONFIGURATION
#============================================================================
CORS_ORIGINS=${CORS_ORIGINS}

#============================================================================
# PRODUCTION CONTAINER CONFIGURATION
#============================================================================
CONTAINER_RUNTIME=docker
ORCHESTRATION=ecs
ENVIRONMENT=production
